import{u as p,e as u,j as s,P as g,F as t,I as i,B as x,S as h,E as f}from"./index-CyKV3DcG.js";import{i as P}from"./forgot-FJl-9_VP.js";const N=()=>{const n=p(),[d,{isLoading:c}]=u(),m=async a=>{var o;console.log(a);const l=localStorage.getItem("token"),r=a.password,w=a.confirmPassword;try{const e=await d({token:l,password:r,confirmPassword:w}).unwrap();h({title:"Success",text:e.message||"Password reset successfully!"}),n("/auth")}catch(e){f({title:"",text:((o=e==null?void 0:e.data)==null?void 0:o.message)||(e==null?void 0:e.message)||"Something went wrong!"})}};return s.jsxs("div",{className:"min-h-[92vh] w-full grid grid-cols-1 lg:grid-cols-2 justify-center items-center gap-1 lg:gap-8 bg-white",children:[s.jsx("div",{className:"lg:border-r-2 border-primary mx-auto w-[96%] lg:p-[10%]",children:s.jsx("img",{src:P,alt:"Reset Password Illustration"})}),s.jsx("div",{className:"lg:p-[5%] order-first lg:order-last",children:s.jsxs("div",{className:"w-full py-[44px] lg:px-[44px] space-y-8",children:[s.jsxs("div",{className:"flex flex-col items-center lg:items-start",children:[s.jsx(g,{backPath:-1,title:"Set new password",disbaledBackBtn:!0}),s.jsx("p",{className:"drop-shadow text-[#464343] mt-5",children:"Your password must be at least 8 characters long and include an uppercase letter, a number, and a special character."})]}),s.jsxs(t,{name:"reset_password",layout:"vertical",initialValues:{remember:!0},requiredMark:!1,onFinish:m,children:[s.jsx(t.Item,{label:s.jsx("span",{className:"font-medium text-base",children:"New Password"}),name:"password",rules:[{required:!0,message:"Please input a new password!"},{min:6,message:"Password must be at least 6 characters long!"}],children:s.jsx(i.Password,{size:"large",placeholder:"Enter new password","aria-label":"New Password"})}),s.jsx(t.Item,{label:s.jsx("span",{className:"font-medium text-base",children:"Confirm New Password"}),name:"confirmPassword",rules:[{required:!0,message:"Please re-enter the password!"},({getFieldValue:a})=>({validator(l,r){return!r||a("password")===r?Promise.resolve():Promise.reject(new Error("The new password and confirmation password do not match!"))}})],children:s.jsx(i.Password,{size:"large",placeholder:"Confirm new password","aria-label":"Confirm New Password"})}),s.jsx("div",{className:"w-full flex justify-center pt-4",children:s.jsx(x,{type:"primary",size:"large",htmlType:"submit",className:"w-full px-2",loading:c,children:"Reset Password"})})]})]})})]})};export{N as default};
